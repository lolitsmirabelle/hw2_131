---
title: "Homework 2"
output: html_document
date: '2022-04-07'
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(ggplot2)
library(tidyverse)
library(tidymodels)
library(corrplot)
library(ggthemes)
tidymodels_prefer()
```


## Question 1 
```{r}
# read the dataset into a data frame
abalone <- read.csv("~/Downloads/homework-2/data/abalone.csv", header = TRUE)

#add age variable
abalone$age <- abalone$rings + 1.5

abalone %>% 
  ggplot(aes(x = age)) +
  geom_histogram(bins = 60) +
  theme_bw()
```

The distribution of age is skewed to the right.


## Question 2
```{r}
set.seed(2424)

abalone_split <- initial_split(abalone, prop = 0.80,
                                strata = age)
abalone_train <- training(abalone_split)
abalone_test <- testing(abalone_split)
```

## Question 3 
```{r}
abalone_recipe <- 
  recipe(age ~ ., data = abalone_train) %>% 
  step_dummy(all_nominal_predictors()) %>%
  step_corr(all_predictors()) %>%
  step_interact(terms = ~ type:shucked_weight) %>%
  step_interact(terms = ~ longest_shell:diameter) %>%
  step_interact(terms = ~ shucked_weight:shell_weight) %>%
  step_center(all_predictors(), -all_outcomes()) %>%
  step_scale(all_predictors(), -all_outcomes())
```


## Question 4
```{r}
lm_model <- linear_reg() %>% 
  set_engine("lm")
```


## Question 5
```{r}
lm_wflow <- workflow() %>% 
  add_model(lm_model) %>% 
  add_recipe(abalone_recipe)
```


## Question 6 
```{r}

```


## Question 7
```{r}

```

